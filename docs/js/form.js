!function(){"use strict";const t=document.querySelector(".checkout"),e=t.querySelectorAll(".checkout-form__button"),s=t.querySelectorAll(".checkout-form__page"),a={checkout:t,controlButtons:e,formPages:s,classNames:{activePage:"checkout-form__page--active",hiddenButton:"button--hidden",activeTariff:"tariff-plan--active",tariffControl:"tariff-plan__control"}},{controlButtons:c}=a,{formPages:r}=a,o=a.classNames,{checkout:i}=a,n=i.querySelectorAll(".progress__item"),l="progress__item--active",d="progress__item--checked",{controlButtons:u}=a,{formPages:m}=a,g=a.classNames,f="Атрибут dataset задан некорректно",h=t=>{const e=Array.from(m).find((t=>t.classList.contains(g.activePage)));if(!e)return;let s=Number(e.dataset.target);const a=Number(t.slice(1));if(Number.isNaN(s)||Number.isNaN(a))throw Error(f);switch(t.slice(0,1)){case"+":s+=a;break;case"-":s-=a;break;default:throw Error(f)}e.classList.remove(g.activePage);var i;(i=s,Array.from(m).find((t=>Number(t.dataset.target)===i))).classList.add(g.activePage),(t=>{switch(t){case Number(r[0].dataset.target):c[0].classList.toggle(o.hiddenButton,!0),c[1].classList.toggle(o.hiddenButton,!1),c[2].classList.toggle(o.hiddenButton,!0);break;case Number(r[r.length-1].dataset.target):c[0].classList.toggle(o.hiddenButton,!1),c[1].classList.toggle(o.hiddenButton,!0),c[2].classList.toggle(o.hiddenButton,!1);break;default:c[0].classList.toggle(o.hiddenButton,!1),c[1].classList.toggle(o.hiddenButton,!1),c[2].classList.toggle(o.hiddenButton,!0)}})(s),(t=>{const e=Array.from(n).find((e=>Number(e.dataset.stage)===t)),s=Array.from(n).find((e=>Number(e.dataset.stage)===t-1)),a=Array.from(n).find((e=>Number(e.dataset.stage)===t+1));s&&!s.classList.contains(d)&&s.classList.add(d),e.classList.contains(d)&&e.classList.remove(d),s&&s.classList.contains(l)&&s.classList.remove(l),a&&a.classList.contains(l)&&a.classList.remove(l),e.classList.add(l)})(s)},y=t=>{t.preventDefault();const{direction:e}=t.target.dataset;e&&h(e)};u.forEach((t=>{t.addEventListener("click",y)}));const{checkout:L}=a,p=L.querySelectorAll("input[name='payment-method']"),v=L.querySelector("input[name='payment-method']:checked"),N=t=>{const e=L.querySelector(".payment-type--active");e&&e.classList.remove("payment-type--active"),t.currentTarget.closest(".payment-type").classList.add("payment-type--active")};p.forEach((t=>t.addEventListener("change",N))),v&&v.closest(".payment-type").classList.add("payment-type--active")}();